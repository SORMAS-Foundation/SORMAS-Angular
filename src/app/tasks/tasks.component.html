<h1>Task list example</h1>

<form [formGroup]="formControl">
  <mat-form-field>
    <mat-label i18n>Context</mat-label>
    <mat-select formControlName="context" multiple>
      <mat-option *ngFor="let item of contextList" [value]="item">
        {{ item }}
      </mat-option>
    </mat-select>
    <mat-placeholder i18n>Context</mat-placeholder>
  </mat-form-field>
  <mat-form-field>
    <mat-label i18n>Region</mat-label>
    <input matInput formControlName="region" />
    <mat-placeholder i18n>Region</mat-placeholder>
  </mat-form-field>
  <mat-form-field>
    <mat-label i18n>Priority</mat-label>
    <mat-select formControlName="priority">
      <mat-option *ngFor="let item of priorityList" [value]="item">
        {{ item }}
      </mat-option>
    </mat-select>
    <mat-placeholder i18n>Priority</mat-placeholder>
  </mat-form-field>
</form>

<div class="tasks-list-container mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>
    <ng-container matColumnDef="associatedLink">
      <th mat-header-cell *matHeaderCellDef i18n>Associated link</th>
      <td mat-cell *matCellDef="let task" [innerHTML]="task.associatedLink"></td>
    </ng-container>

    <ng-container matColumnDef="context">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Task context</th>
      <td mat-cell *matCellDef="let task">{{ task.context }}</td>
    </ng-container>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Task type</th>
      <td mat-cell *matCellDef="let task">{{ task.type }}</td>
    </ng-container>

    <ng-container matColumnDef="region">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Region</th>
      <td mat-cell *matCellDef="let task">{{ task.region }}</td>
    </ng-container>

    <ng-container matColumnDef="district">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>District</th>
      <td mat-cell *matCellDef="let task">{{ task.district }}</td>
    </ng-container>

    <ng-container matColumnDef="priority">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Priority</th>
      <td mat-cell *matCellDef="let task">{{ task.priority }}</td>
    </ng-container>

    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Suggested start</th>
      <td mat-cell *matCellDef="let task">{{ task.startDate }}</td>
    </ng-container>

    <ng-container matColumnDef="dueDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Due date</th>
      <td mat-cell *matCellDef="let task">{{ task.dueDate }}</td>
    </ng-container>

    <ng-container matColumnDef="assignee">
      <th mat-header-cell *matHeaderCellDef i18n>Assigned to</th>
      <td mat-cell *matCellDef="let task">{{ task.assignee }}</td>
    </ng-container>

    <ng-container matColumnDef="executionComments">
      <th mat-header-cell *matHeaderCellDef i18n>Comments on execution</th>
      <td mat-cell *matCellDef="let task">{{ task.executionComments }}</td>
    </ng-container>

    <ng-container matColumnDef="creator">
      <th mat-header-cell *matHeaderCellDef i18n>Created by</th>
      <td mat-cell *matCellDef="let task">{{ task.creator }}</td>
    </ng-container>

    <ng-container matColumnDef="taskComments">
      <th mat-header-cell *matHeaderCellDef i18n>Comments on task</th>
      <td mat-cell *matCellDef="let task">{{ task.taskComments }}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Status</th>
      <td mat-cell *matCellDef="let task">{{ task.status }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator [pageSize]="5" [pageSizeOptions]="[3, 5, 10, 25]"></mat-paginator>
</div>

<br />

<div class="tasks-list mat-elevation-z8">
  <div *ngIf="isLoadingResults" class="overlay">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div>

  <div class="tasks-list-container">
    <table
      #tableTasks
      mat-table
      [dataSource]="dataSourceSS"
      matSort
      matSortDisableClear
      matSortDirection="desc"
    >
      <ng-container matColumnDef="associatedLink">
        <th mat-header-cell *matHeaderCellDef i18n>Associated link</th>
        <td mat-cell *matCellDef="let task" [innerHTML]="task.associatedLink"></td>
      </ng-container>

      <ng-container matColumnDef="context">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Task context</th>
        <td mat-cell *matCellDef="let task">{{ task.context }}</td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Task type</th>
        <td mat-cell *matCellDef="let task">{{ task.type }}</td>
      </ng-container>

      <ng-container matColumnDef="region">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Region</th>
        <td mat-cell *matCellDef="let task">{{ task.region }}</td>
      </ng-container>

      <ng-container matColumnDef="district">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>District</th>
        <td mat-cell *matCellDef="let task">{{ task.district }}</td>
      </ng-container>

      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Priority</th>
        <td mat-cell *matCellDef="let task">{{ task.priority }}</td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Suggested start</th>
        <td mat-cell *matCellDef="let task">{{ task.startDate }}</td>
      </ng-container>

      <ng-container matColumnDef="dueDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Due date</th>
        <td mat-cell *matCellDef="let task">{{ task.dueDate }}</td>
      </ng-container>

      <ng-container matColumnDef="assignee">
        <th mat-header-cell *matHeaderCellDef i18n>Assigned to</th>
        <td mat-cell *matCellDef="let task">{{ task.assignee }}</td>
      </ng-container>

      <ng-container matColumnDef="executionComments">
        <th mat-header-cell *matHeaderCellDef i18n>Comments on execution</th>
        <td mat-cell *matCellDef="let task">{{ task.executionComments }}</td>
      </ng-container>

      <ng-container matColumnDef="creator">
        <th mat-header-cell *matHeaderCellDef i18n>Created by</th>
        <td mat-cell *matCellDef="let task">{{ task.creator }}</td>
      </ng-container>

      <ng-container matColumnDef="taskComments">
        <th mat-header-cell *matHeaderCellDef i18n>Comments on task</th>
        <td mat-cell *matCellDef="let task">{{ task.taskComments }}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header i18n>Status</th>
        <td mat-cell *matCellDef="let task">{{ task.status }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsSS"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsSS"></tr>
    </table>

    <mat-paginator
      #tasksListPaginator="matPaginator"
      [length]="resultsLength"
      [pageSize]="5"
    ></mat-paginator>
  </div>
</div>
